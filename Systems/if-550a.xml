<?xml version="1.0" encoding="UTF-8"?>
<!--	Property rules for the IF-550A autopilot
	by TheEagle
-->
	
<PropertyList>
	<pid-controller>
		<name>Wing leveler (turn-coordinator based)</name>
		<enable>
			<condition>
				<and>
					<property>/autopilot/if-550a/modes/roll</property>
					<property>/autopilot/powered</property>
					<property>/autopilot/actuators-powered</property>
				</and>
			</condition>
		</enable>
		<input>/instrumentation/turn-indicator/indicated-turn-rate</input>
		<reference>/autopilot/if-550a/target-turn-rate</reference>
		<output>/autopilot/if-550a/internal/aileron</output>
		<config>
			<Kp>0.15</Kp>
			<Ti>10</Ti>
			<Td>0.005</Td>
			<u_min>-0.25</u_min>
			<u_max>0.25</u_max>
		</config>
	</pid-controller>
	
	<filter>
		<name>Aileron servo</name>
		<type>noise-spike</type>
		<enable>
			<condition>
				<and>
					<property>/autopilot/if-550a/engaged</property>
					<property>/autopilot/powered</property>
					<property>/autopilot/actuators-powered</property>
				</and>
			</condition>
		</enable>
		<input>/autopilot/if-550a/internal/aileron</input>
		<output>/controls/flight/aileron</output>
		<max-rate-of-change>0.2</max-rate-of-change>
		<!-- 10 seconds for one full move -->
	</filter>
</PropertyList>
