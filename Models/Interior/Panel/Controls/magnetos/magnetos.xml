<?xml version="1.0" encoding="UTF-8"?>
<PropertyList>
	<path>magnetos.ac</path>
	
	<animation>
		<type>knob</type>
		<object-name>MagnetoSwitch</object-name>
		<action>
			<binding>
				<condition>
					<equals>
						<property>controls/engines/engine/magnetos</property>
						<value>0</value>
					</equals>
				</condition>
				<command>property-toggle</command>
				<property>sim/model/controls/magnetos/key-inserted</property>
			</binding>
		</action>
		<hovered>
			<binding>
				<command>set-tooltip</command>
				<tooltip-id>magneto-key-in-out</tooltip-id>
				<label>Press to insert / remove keys</label>
			</binding>
		</hovered>
	</animation>
	
	<animation>
		<condition>
			<property>sim/model/controls/magnetos/key-inserted</property>
		</condition>
		<type>select</type>
		<object-name>MainKey</object-name>
		<object-name>SecondKey</object-name>
		<object-name>Ring</object-name>
	</animation>
	
	<animation>
		<condition>
			<equals>
				<property>controls/engines/engine/magnetos</property>
				<value>3</value>
			</equals>
		</condition>
		<type>rotate</type>
		<object-name>MainKey</object-name>
		<axis>
			<x>-1</x>
			<y>0</y>
			<z>0</z>
		</axis>
		<property>controls/engines/engine/starter</property>
		<factor>25</factor>
	</animation>
	
	<animation>
		<type>knob</type>
		<object-name>MainKey</object-name>
		<axis>
			<x>-1</x>
			<y>0</y>
			<z>0</z>
		</axis>
		<property>controls/engines/engine/magnetos</property>
		<factor>25</factor>
		<action>
			<binding>
				<command>property-adjust</command>
				<property>controls/engines/engine/magnetos</property>
				<min>0</min>
				<max>3</max>
				<factor>1</factor>
			</binding>
			<binding>
				<condition>
					<equals>
						<property>controls/engines/engine/magnetos</property>
						<value>3</value>
					</equals>
				</condition>
				<command>property-assign</command>
				<property>controls/engines/engine/starter</property>
				<value type="bool">true</value>
			</binding>
		</action>
		<release>
			<binding>
				<command>property-assign</command>
				<property>controls/engines/engine/starter</property>
				<value type="bool">false</value>
			</binding>
		</release>
		<hovered>
			<binding>
				<command>set-tooltip</command>
				<tooltip-id>magnetos</tooltip-id>
				<label>Magnetos: %s</label>
				<measure-text>Magnetos: Start</measure-text>
				<property>controls/engines/engine/magnetos</property>
				<mapping>nasal</mapping>
				<script>
					if (getprop("controls/engines/engine/starter")) {
						return "Start";
					} else {
						return ["Off", "Left", "Right", "Both"][arg[0]];
					}
				</script>
			</binding>
		</hovered>
	</animation>
	
	<effect>
		<inherits-from>../../../../Effects/p210n-interior-metal</inherits-from>
		<object-name>MainKey</object-name>
		<object-name>SecondKey</object-name>
		<object-name>Ring</object-name>
		<object-name>MagnetoSwitch</object-name>
	</effect>
</PropertyList>
